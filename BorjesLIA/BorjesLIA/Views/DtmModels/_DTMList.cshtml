@model BorjesLIA.ViewModel.DMTViewModel

<script type="text/javascript">
    $(document).ready(function(){
        $('#myDTMTable').DataTable({
            dom: 'B<"clear"><lf<t>ip>',
            buttons: [
            {
                extend: 'copy',
                text: 'Kopiera',
            },
            {
                extend: 'excel',
                text: 'Excel',
                exportOptions: {
                    modifier: { page: 'current' }
                },
            },
            {
                extend: 'csv',
                text: 'Csv',
                exportOptions: {
                    modifier: { page: 'current' }
                },
            },
            {
                extend: 'pdf',
                text: 'Pdf'
            },
            ],
            "language": {
                "lengthMenu": "Visa _MENU_ rader per sida",
                "zeroRecords": "Din sökning gav inget - försök med att annat sökord",
                "info": "Visar nu _PAGE_ av _PAGES_",
                "infoEmpty": "Datatabellen är tom",
                "infoFiltered": "(filtrerdad på _MAX_ antal poster)"
            },
            "processing": true,
            "order": [[0, "desc", ]], //Column1  
        })

        var table = $('#myDTMTable').DataTable();
        var expdata = table.buttons.exportData();
        console.log("Tabelldata \n", expdata);
    });
</script>

<div class="x_panel">
    <div class="x_title">
        <h2>DMT <small>- Drivmedelstillägg</small></h2>
        <ul class="nav navbar-right panel_toolbox">
            <li>
                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
            </li>
            <li>
                <a class="close-link"><i class="fa fa-close"></i></a>
            </li>
        </ul>
        <div class="clearfix"></div>
    </div>

    <div class="x_content">
        <div id="datatable-buttons_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
            <table id="myDTMTable" class="table table-striped dt-responsive nowrap dataTable no-footer dtr-inline collapsed" role="grid" aria-describedby="datatable-buttons_info">
                <thead>
                    <tr>
                        <th>
                            År
                        </th>
                        <th>
                            Månad
                        </th>
                        <th>
                            Pris
                        </th>
                        <th>
                            Edit
                        </th>

                    </tr>
                </thead>
                @foreach (var item in Model.newDTMList)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Year)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Month)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.DieselDTMValue)
                        </td>
                        <td>
                            @Html.ActionLink("Edit", "Edit", new { id = item.ID }) |
                            @Html.ActionLink("Details", "Details", new { id = item.ID }) |
                            @Html.ActionLink("Delete", "Delete", new { id = item.ID })
                        </td>
                    </tr>
                }

            </table>
        </div>
    </div>
</div>


