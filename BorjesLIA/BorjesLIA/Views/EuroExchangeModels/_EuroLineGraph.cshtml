
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
<script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
<script src="~/Scripts/jquery-2.2.3.min.js"></script>
<script type="text/javascript">
    google.load("visualization", "1", { packages: ["corechart"] });
    //google.charts.load('current');
    google.setOnLoadCallback(drawchart);
@*</script>*@
//<!--GOOGLECHART START-->
@*<script type="text/javascript">*@
    //$(
    function drawchart() {
        $.ajax({
            type: 'POST',
            dataType: 'json',
            contentType: 'application/json',
            // Calls an Action from Controller ie. HomeController/GetData
            url: '@Url.Action("GetData")',
            data: "{ }",
            // If data connections is success
            success:
                function drawchart(dataValues) {

                    // Adds data into columns to DataTable
                    var data = new google.visualization.DataTable();
                    data.addColumn('string', 'Datum');
                    data.addColumn('number', 'Pris');

                    // Settings for visualization of the graph
                    var options = {
                        title: 'Eurokurs',
                        pointSize: 10,
                        dataOpacity: 0.4,
                        lineWidth: 4,
                        hAxis: {
                            title: 'Datum', titleTextStyle: { color: '#333' },
                        }
                    }
                    // Loops through the DataTable with data from database
                    for (var i = 0; i < dataValues.length; i++) {
                        data.addRow([(dataValues[i].Date), dataValues[i].euroValue])

                        // Drews the graph into a specified div
                        new google.visualization.LineChart(document.getElementById('myChartDiv')).
                            draw(data, options);
                    }
                },
            // If collectning data from database fails promp message here
            error: function () {
                alert("Ett fel uppstod när datat försökte hämtas!");
            }
        });
    }
    //})

    //Chart.defaults.global.legend = {
    //    enabled: false
    //};
    // Draws the graph into a specified div
    
    @*var data =  @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model.euroLineChartArray) as string);
    var ctx = document.getElementById("lineChart");
    var lineChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: ["January", "February", "March", "April", "May", "June", "July"],
            datasets: [{
                label: "My First dataset",
                backgroundColor: "rgba(38, 185, 154, 0.31)",
                borderColor: "rgba(38, 185, 154, 0.7)",
                pointBorderColor: "rgba(38, 185, 154, 0.7)",
                pointBackgroundColor: "rgba(38, 185, 154, 0.7)",
                pointHoverBackgroundColor: "#fff",
                pointHoverBorderColor: "rgba(220,220,220,1)",
                pointBorderWidth: 1,
                // Insert data here
                data: [31, 74, 6, 39, 20, 85, 7]

            }, {
                label: "My Second dataset",
                backgroundColor: "rgba(3, 88, 106, 0.3)",
                borderColor: "rgba(3, 88, 106, 0.70)",
                pointBorderColor: "rgba(3, 88, 106, 0.70)",
                pointBackgroundColor: "rgba(3, 88, 106, 0.70)",
                pointHoverBackgroundColor: "#fff",
                pointHoverBorderColor: "rgba(151,187,205,1)",
                pointBorderWidth: 1,

                data: [82, 23, 66, 9, 99, 4, 2]

            }]
        }
    });*@
</script>
<div class="x_panel">
    <div class="x_title">
        <h2>Google Chart <small>Data ifrån databas via PartialView</small></h2>
        <ul class="nav navbar-right panel_toolbox">
            <li>
                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
            </li>
            <li>
                <a class="close-link"><i class="fa fa-close"></i></a>
            </li>
        </ul>
        <div class="clearfix"></div>
    </div>
    <div class="x_content">
        <div id="myChartDiv" style="width: 100%; height: 450px"></div>
    </div>
</div>